---
summary: Graduates BuildKit to beta status, updates ECR repository configuration for better customization, adds Argo Events components, introduces several helpful CLI tools, and improves ARM support across core components.
---

import ChangelogEntry from "./ChangelogEntry.astro"

<ChangelogEntry>
  <Fragment slot="breaking-changes">
    * The input format to [aws\_ecr\_repos](/docs/edge/reference/infrastructure-modules/direct/aws/aws_ecr_repos) has been
      reformatted to support better per-repository configuration. This should **not** require replacing any resources, but
      it will require updating your Terragrunt inputs.

    * The following resources will no longer be tagged with the Panfactum version and commit hash as updates cause unnecessary
      delays and disruptions during updates for little added value:

    * EC2 instances in EKS node groups generated by [aws\_eks](/docs/edge/reference/infrastructure-modules/direct/aws/aws_eks)

    * EC2 instances serving as NAT hosts in [aws\_vpc](/docs/edge/reference/infrastructure-modules/direct/aws/aws_vpc)

    * KMS replica keys in [aws\_kms\_encrypt\_key](/docs/edge/reference/infrastructure-modules/submodule/aws/aws_kms_encrypt_key)

    * Pods created in [kube\_bastion](/docs/edge/reference/infrastructure-modules/direct/kubernetes/kube_bastion)
  </Fragment>

  <Fragment slot="additions">
    * [kube\_buildkit](/docs/edge/reference/infrastructure-modules/direct/kubernetes/kube_buildkit) has graduated to beta
      and is now ready for general consumption. This is the first [stack addon](/docs/edge/guides/addons/overview) that
      can be used to extend the behavior of the core stack. Installation and usage instructions can be found
      [here](/docs/edge/guides/addons/buildkit/installing).

    * [aws\_ecr\_repos](/docs/edge/reference/infrastructure-modules/direct/aws/aws_ecr_repos) now supports custom image
      expirations rules and both pull and push permissions.

    * [aws\_ecr\_public\_repos](/docs/edge/reference/infrastructure-modules/direct/aws/aws_ecr_public_repos) has been added
      to support created public ECR repositories.

    * Adds ARM support in [kube\_bastion](/docs/edge/reference/infrastructure-modules/direct/kubernetes/kube_bastion) and
      [kube\_pvc\_autoresizer](/docs/edge/reference/infrastructure-modules/direct/kubernetes/kube_pvc_resizer). All core cluster
      components can now be run on both amd64 and arm64 nodes allow for optimal cost savings.

    * Changes the default `securityContext.fsGroupChangePolicy` to `OnRootMismatch` for Pods created by Panfactum submodules
      in order to improve PVC mounting performance.

    * `pf-providers-enable` now ensures that `.terraform.lock.hcl` files have all common platform checksums.

    * Adds `pf-get-terragrunt-variables` which can be used to derive the
      [Terragrunt variables](/docs/edge/reference/configuration/terragrunt-variables) that would be used if Terragrunt were
      run in the given directory.

    * Adds `pf-tf-delete-locks` which can be used to bulk-release Tofu state locks.

    * Adds `pf-sops-set-profile` which will update all sops-encrypted files in the given directory to use the indicated AWS
      profile for KMS operations. This can be used in CI pipelines to allow the CI user to access sops-encrypted files.

    * (Alpha) Adds [kube\_argo\_sensor](/docs/edge/reference/infrastructure-modules/submodule/kubernetes/kube_argo_sensor) and
      [kube\_argo\_event\_source](/docs/edge/reference/infrastructure-modules/submodule/kubernetes/kube_argo_event_source) submodules
      for deploying these core components of the [Argo Events](https://argoproj.github.io/argo-events/) system.

    * (Alpha) Adds the [kube\_workflow\_spec](/docs/edge/reference/infrastructure-modules/submodule/kubernetes/kube_workflow_spec)
      submodule to help in defining production-ready [Argo Workflows.](https://argo-workflows.readthedocs.io/en/latest/)
  </Fragment>

  <Fragment slot="fixes">
    * [kube\_aws\_ebs\_csi](/docs/edge/reference/infrastructure-modules/direct/kubernetes/kube_aws_ebs_csi) has been adjusted
      to ensure that PVCs are detached from nodes during node shutdown, preventing unnecessary delays in moving PVCs between
      nodes.

    * [kube\_core\_dns](/docs/edge/reference/infrastructure-modules/direct/kubernetes/kube_core_dns) no longer accidentally includes the Vault provider.

    * [kube\_ingress\_nginx](/docs/edge/reference/infrastructure-modules/direct/kubernetes/kube_ingress_nginx) will no longer
      unnecessarily set browser security headers on `3xx` responses or responses that do not have `Content-Type` headers.
  </Fragment>
</ChangelogEntry>
