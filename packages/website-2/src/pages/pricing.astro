---
import '../styles/global.css'
import Layout from '../layouts/Layout.astro'
import Section from '../components/layout/section.astro'

import { Button } from '@/components/ui/button'
import { PricingTable } from '@/components/pricing/pricing-table'
import { faIdBadge } from '@fortawesome/free-regular-svg-icons'
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'
import { Faq } from '../components/marketing/faq'

import Calculator from '@/components/pricing/calculator'
import Spacer from '@/components/ui/spacer'
import SectionFullWidth from '@/components/layout/section-full-width.astro'

const pathname = new URL(Astro.request.url).pathname
---

<Layout darkBackground={true} heroClass="bg-brand-section">
  <section slot="hero" class="flex space-y-7xl flex-col items-center py-9xl">
    <div
      class="container flex flex-col items-center space-y-6xl px-container-padding-mobile xl:px-container-padding-desktop"
    >
      <div class="flex flex-col gap-3xl items-center text-center max-w-[846px]">
        <h1
          class="font-machina font-medium text-primary_on-brand text-display-2xl"
        >
          Pricing
        </h1>
        <p class="text-tertiary_on-brand text-xl">
          Something outrageous about pricing
        </p>
      </div>
    </div>
  </section>
  <Section sectionClass="-translate-y-1/2 pb-0">
    <div
      class="flex justify-between self-stretch shadow-md px-3xl pt-3xl pb-3xl border border-secondary rounded-md bg-primary"
    >
      <div class="self-start">
        <h1 class="font-machina text-display-xs font-medium">Open Source</h1>
        <p class="text-tertiary text-md">
          Our most popular plan for small teams. testing
        </p>
      </div>
      <span class="self-end text-display-md font-medium font-machina">
        Free
      </span>
    </div>
  </Section>
  <Section sectionClass="pt-0">
    <h2 class="font-machina text-display-lg font-medium">Support Plans</h2>
    <p class="text-tertiary text-center">
      Simple, transparent pricing that grows with you. Try any plan free for 30
      days.
    </p>
  </Section>
  <Section class="gap-y-6xl">
    <PricingTable client:load />

    <table class="w-full">
      <thead>
        <tr>
          <th
            colspan="3"
            class="h-[93px] text-primary text-lg font-semibold border border-secondary p-2xl lg:p-3xl text-start"
            >Addons</th
          >
        </tr>
      </thead>
      <tbody class="text-secondary text-sm">
        <tr class="h-[64px]">
          <td
            class="border border-secondary py-xl px-3xl font-bold w-1/2 lg:w-3/4"
            >Audit Support (SOC2)</td
          >
          <td class="border border-secondary py-xl px-3xl bg-secondary w-1/2"
            >One month pricing / audit</td
          >
        </tr>

        <tr>
          <td class="border border-secondary py-xl px-3xl font-bold"
            >Upgrade to 24/7 Support (only available on Growth)</td
          >
          <td class="border border-secondary py-xl px-3xl bg-secondary"
            >$1,500 / month</td
          >
        </tr>

        <tr>
          <td class="border border-secondary py-xl px-3xl font-bold"
            >Upgrade to On-call SLA (15-minute) (only available on Growth)</td
          >
          <td class="border border-secondary py-xl px-3xl bg-secondary"
            >$1,500 / month</td
          >
        </tr>

        <tr>
          <td class="border border-secondary py-xl px-3xl font-bold"
            >Liability Insurance</td
          >
          <td class="border border-secondary py-xl px-3xl bg-secondary"
            >Per engagement</td
          >
        </tr>
      </tbody>
    </table>
  </Section>

  <SectionFullWidth
    sectionClass="gap-7xl bg-secondary text-primary py-12"
    class="gap-6xl"
  >
    <div class="text-center">
      <h3 class="text-brand-secondary text-sm font-semibold">Ways to save</h3>
      <h2 class="font-machina text-display-sm font-medium">
        Available Discounts
      </h2>
    </div>

    <div class="flex flex-col sm:grid sm:grid-cols-2 md:grid-cols-3 gap-5xl">
      <div class="flex flex-col items-center gap-xl text-center">
        <Button variant="outline" size="icon">
          <FontAwesomeIcon icon={faIdBadge} />
        </Button>

        <h3 class="text-primary text-lg font-semibold">Security</h3>
        <p class="text-tertiary text-md">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec dui
          eget dolor.
        </p>
      </div>

      <div class="flex flex-col items-center gap-xl text-center">
        <Button variant="outline" size="icon">
          <FontAwesomeIcon icon={faIdBadge} />
        </Button>

        <h3 class="text-primary text-lg font-semibold">Cost Savings</h3>
        <p class="text-tertiary text-md">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec dui
          eget dolor.
        </p>
      </div>

      <div class="flex flex-col items-center gap-xl text-center">
        <Button variant="outline" size="icon">
          <FontAwesomeIcon icon={faIdBadge} />
        </Button>

        <h3 class="text-primary text-lg font-semibold">High Availability</h3>
        <p class="text-tertiary text-md">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla nec dui
          eget dolor.
        </p>
      </div>
    </div>
  </SectionFullWidth>

  <Section class="gap-6xl text-primary">
    <div class="text-center">
      <h3 class="text-brand-secondary text-sm font-semibold">Pricing</h3>
      <h2 class="font-machina text-display-md lg:text-display-lg font-medium">
        Savings Calculator
      </h2>
    </div>

    <Calculator client:only="react" pathName={pathname} />
  </Section>

  <Spacer />

  <Section class="gap-6xl">
    <div class="text-center">
      <h2
        class="font-machina text-primary text-display-sm md:text-display-md font-medium"
      >
        Frequently asked questions
      </h2>
      <p class="text-lg md:text-xl text-tertiary mt-xl">
        Everything you need to know about the product and billing.
      </p>
    </div>

    <div class="md:max-w-xl w-full">
      <Faq client:load />
    </div>

    <div
      class="flex flex-col items-center gap-y-3xl bg-secondary w-full py-4xl px-2xl text-center rounded-xl"
    >
      <img src="/face.png" class="w-16" />
      <h2 class="text-primary text-lg font-semibold">Still have questions?</h2>
      <p class="text-tertiary text-md">
        Can’t find the answer you’re looking for? Please chat to our friendly
        team.
      </p>
      <Button variant="primary" size="xl">Get in touch</Button>
    </div>
  </Section>
</Layout>
