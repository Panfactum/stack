---
const inputClass = `text-md h-[44px] bg-[transparent] border border-primary rounded-md px-3.5 w-full mt-1`;
const textareaClass = `text-md bg-[transparent] border border-primary rounded-md px-3.5 py-3 w-full mt-1`;

if (Astro.request.method === "POST") {
  try {
    const data = await Astro.request.formData();
    const firstName = data.get("firstName");
    const lastName = data.get("lastName");
    const email = data.get("email");
    const phone = data.get("phone");
    const message = data.get("message");
    const agreeToPrivacy = data.get("privacy");
    // SEND DATA
  } catch (error) {
    if (error instanceof Error) {
      console.error(error.message);
    }
  }
}
---

<form class="flex flex-col gap-y-7 w-full max-w-[480px]">
  <div class="flex flex-col md:flex-row items-start gap-y-7 gap-x-8 w-full">
    <label class="text-sm">
      First name <span class="text-brand-tertiary">*</span>
      <input
        type="text"
        name="firstName"
        placeholder="First name"
        class={inputClass}
        required
      />
    </label>
    <label class="text-sm">
      Last name <span class="text-brand-tertiary">*</span>
      <input
        type="text"
        name="lastName"
        placeholder="Last name"
        class={inputClass}
        required
      />
    </label>
  </div>

  <label class="text-sm">
    Email <span class="text-brand-tertiary">*</span>
    <input
      type="email"
      name="email"
      placeholder="you@company.com"
      class={inputClass}
      required
    />
  </label>
  <label class="flex flex-col text-sm">
    Phone number
    <input
      type="text"
      name="phone"
      placeholder="+1 (555) 000-0000"
      class={inputClass}
      required
    />
  </label>

  <label class="text-sm">
    Message <span class="text-brand-tertiary">*</span>
    <textarea
      name="message"
      placeholder="Leave us a message..."
      class={textareaClass}
      rows="4"
      required></textarea>
  </label>

  <div>
    <label class="text-sm flex items-center gap-2 text-tertiary">
      <div class="flex items-center cursor-pointer relative">
        <input
          type="checkbox"
          name="privacy"
          checked
          class="peer h-5 w-5 cursor-pointer transition-all appearance-none rounded shadow hover:shadow-md border border-primary"
          id="check"
        />
        <span
          class="absolute text-white opacity-0 peer-checked:opacity-100 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-3.5 w-3.5"
            viewBox="0 0 20 20"
            fill="currentColor"
            stroke="currentColor"
            stroke-width="1"
          >
            <path
              fill-rule="evenodd"
              d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
              clip-rule="evenodd"></path>
          </svg>
        </span>
      </div>

      You agree to our friendly <a href="/" class="underline underline-offset-4"
        >privacy policy</a
      >
    </label>
  </div>
  <button
    class="transition-colors bg-brand-600 h-[48px] rounded-md text-white font-semibold hover:bg-brand-500"
    >Send message</button
  >
</form>
